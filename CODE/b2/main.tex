\clearpage
\section{Bài 2}
\subsection{Vấn đề}
Khách sạn SOFITEL có 3 loại phòng với doanh thu phòng của tháng được tính như sau:
\begin{itemize}
    \item  Loại Deluxe: doanh thu phòng = Số đêm * 750000 + Phí dịch vụ + Phí phục vụ
    \item Loại Premium: doanh thu phòng = Số đêm * 500000 + Phí dịch vụ
    \item Loại Business: doanh thu phòng = Số đêm * 300000 
\end{itemize}

\textbf{Yêu cầu: } Hàm main: khởi tạo 5 phòng: Ví dụ: Deluxe a(...); Deluxe b(...); Premium
c(...); Premium d(...); Business e(…). Hãy cho biết doanh thu của loại phòng nào nhiều
nhất? (lưu ý: mỗi loại phòng có thể khởi tạo nhiều phòng).
\subsection{Class Diagram}
\includegraphics[width = 15cm]{graphics/cd2.png}
\subsection{Code}
\item {\textbf{Lớp RoomClass: }}
\begin{minted}[frame=lines, linenos, breaklines]{c++}
#ifndef ROOMCLASS_H
#define ROOMCLASS_H

#include <bits/stdc++.h> 

using namespace std;
class RoomClass{
protected:
    int SoDem;
public:
    RoomClass(int SoDem) : SoDem(SoDem) {}
    virtual ~RoomClass() {}
    virtual int DoanhThuPhong() const = 0;
};
#endif 
\end{minted}

\item{\textbf{Lớp Deluxe: }}
\begin{minted}[frame=lines, linenos, breaklines]{c++}
#ifndef DELUXE_H
#define DELUXE_H

#include "roomclass.h"

class Deluxe : public RoomClass {
private: 
    int PhiDichVu, PhiPhucVu;
public: 
    Deluxe(int SoDem, int PhiDichVu, int PhiPhucVu) : RoomClass(SoDem), PhiDichVu(PhiDichVu), PhiPhucVu(PhiPhucVu) {}
    int DoanhThuPhong() const override {
        return SoDem * 750000 + PhiDichVu + PhiPhucVu;
    }
};

#endif
\end{minted}
\item{\textbf{Lớp Premium: }}
\begin{minted}[frame=lines, linenos, breaklines]{c++}
#ifndef PREMIUM_H
#define PREMIUM_H

#include "roomclass.h"

class Premium : public RoomClass {
private: 
    int PhiDichVu;
public:
    Premium(int SoDem, int PhiDichVu) : RoomClass(SoDem), PhiDichVu(PhiDichVu) {}
    int DoanhThuPhong() const override {
        return SoDem * 500000 + PhiDichVu;
    }
};

#endif 
\end{minted}
\item{\textbf{Lớp Business: }}
\begin{minted}[frame=lines, linenos, breaklines]{c++}
#ifndef BUSINESS_H
#define BUSINESS_H

#include "roomclass.h"

class Business : public RoomClass{

public: 
    Business(int SoDem) : RoomClass(SoDem) {}
    int DoanhThuPhong() const override {
        return SoDem * 300000;
    }
};
#endif 
\end{minted}
\item{\textbf{Hướng giải quyết:}}
\begin{itemize}
   \item lớp RoomClass dùng để quản lý tất cả các loại phòng
   \item lớp Business, Premium và Deluxe kế thừa lớp RoomClass
   \item Hàm DoanhThuPhong() để tính tổng số doanh thu của phòng đấy
   \item Lưu tất cả các phòng vào một danh sách, tính tổng doanh thu của từng phòng rồi tìm phòng có doanh thu lớn nhất
\end{itemize}

\item{\textbf{Gọi hàm trong main:}}
\begin{minted}[frame=lines, linenos, breaklines]{c++} 
#include "deluxe.h"
#include "premium.h" 
#include "business.h"

signed main()
{
    Deluxe a(3, 150000, 50000);
    Deluxe b(2, 200000, 100000);
    Premium c(5, 100000);
    Premium d(3, 0);
    Business e(1);
    int dsDoanhThu[5];
    dsDoanhThu[0] = a.DoanhThuPhong();
    dsDoanhThu[1] = b.DoanhThuPhong();
    dsDoanhThu[2] = c.DoanhThuPhong();
    dsDoanhThu[3] = d.DoanhThuPhong();
    dsDoanhThu[4] = e.DoanhThuPhong();
    char room[5] = {'a', 'b', 'c', 'd', 'e'};
    int Max = 0;
    char Room;
    for (int i = 0; i < 5; i++) 
    {
        if (Max < dsDoanhThu[i]) {
            Max = dsDoanhThu[i];
            Room = room[i];
        }
        cout << "Doanh thu cua phong " << room[i] << " là " << dsDoanhThu[i] << "\n";
    }
    cout << "-------------------------------------" << "\n";
    cout << "Phong co doanh thu lon nhat la phong " << Room << "\n";
    cout << "Voi tong doanh thu la " << Max << "\n";
    return 0;
}
\end{minted}
\subsection{Kiểm thử các test case}
\includegraphics{graphics/test2.png}
